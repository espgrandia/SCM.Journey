# 擷取字串

有時會需要擷取字串，以下為參考的連結內文稍加整理。

Linux 的字串擷取很有用。有八種方法。

假設有變數 var=`http://www.aaa.com/123.htm.`

---

**1.# 號擷取，刪除左邊字元，保留右邊字元 :**

複製程式碼 程式碼如下:

``` shell
  echo ${var#*//}
```

其中 `var` 是變數名，`#` 號是運算子，`*//` 表示從左邊開始刪除第一個 `//` 號及左邊的所有字元
即刪除 `http://`
結果是 ：`www.aaa.com/123.htm`

---

**2. ## 號擷取，刪除左邊字元，保留右邊字元 :**

複製程式碼 程式碼如下:

``` shell
  echo ${var##*/}
```

`##*/` 表示從左邊開始刪除最後（最右邊）一個 `/` 號及左邊的所有字元
即刪除 `http://www.aaa.com/`

結果是 123.htm

---

**3. %號擷取，刪除右邊字元，保留左邊字元 :**

複製程式碼 程式碼如下:

``` shell
  echo ${var%/*}
```

`%/*` 表示從右邊開始，刪除第一個 `/` 號及右邊的字元

結果是：`http://www.aaa.com`

---

**4. %% 號擷取，刪除右邊字元，保留左邊字元 :**

複製程式碼 程式碼如下:

``` shell
  echo ${var%%/*}
```

`%%/*` 表示從右邊開始，刪除最後（最左邊）一個 `/` 號及右邊的字元
結果是：`http:`

---

**5. 從左邊第幾個字元開始，及字元的個數 :**

複製程式碼 程式碼如下:

``` shell
  echo ${var:0:5}
```

其中的 `0` 表示左邊第一個字元開始，`5` 表示字元的總個數。
結果是：`http:`

---

**6. 從左邊第幾個字元開始，一直到結束 :**

複製程式碼 程式碼如下:

``` shell
  echo ${var:7}
```

其中的 `7` 表示左邊第8個字元開始，一直到結束。
結果是 ：`www.aaa.com/123.htm`

---

**7. 從右邊第幾個字元開始，及字元的個數 :**

複製程式碼 程式碼如下:

``` shell
  echo ${var:0-7:3}
```

其中的 `0-7` 表示右邊算起第七個字元開始，`3` 表示字元的個數。
結果是：`123`

---

**8. 從右邊第幾個字元開始，一直到結束 :**

複製程式碼 程式碼如下:

``` shell
  echo ${var:0-7}
```

表示從右邊第七個字元開始，一直到結束。
結果是：`123.htm`

注：（左邊的第一個字元是用 0 表示，右邊的第一個字元用 0-1 表示）

---

以上為 shell 擷取部分字串作法

另外也可以使用 cut 命令來擷取部分字串

``` shell
  echo "This is a testing" | cut -c1-11
```

以上指令會回傳 "This is a t", 其中 "This is a testing" 是原來完整的字串, "c1-11" 代表截取第 1 個字元至第 11 個字元.

cut 也可以做 split 字串，不過這就另外章節介紹了，不是本文重點。

---

## 參考

- [linux shell擷取字串](https://www.itread01.com/p/188155.html)

- [Shell指令碼8種字串擷取方法總結 | 程式前沿](https://codertw.com/%E5%89%8D%E7%AB%AF%E9%96%8B%E7%99%BC/392050/)

- [Shell Script 截取部份字串](https://www.opencli.com/linux/shell-script-substring)
